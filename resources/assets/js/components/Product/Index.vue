<template>    <div>        <div class="row wrapper border-bottom white-bg page-heading">            <div class="col-lg-8">                <h2>产品管理</h2>                <ol class="breadcrumb">                    <li>                        <router-link to="/">首页</router-link>                    </li>                    <li class="active"><strong>产品列表</strong></li>                </ol>            </div>        </div>        <div class="wrapper wrapper-content animated fadeInRight">            <div class="row">                <div class="col-lg-12">                    <div class="ibox float-e-margins">                        <div class="ibox-title">                            <search :url="url" :onSearch="onSearch"></search>                            <span class="input-group-btn">                             <router-link to="/products/add">                              <button type="button" class="btn btn-info"><i class="fa fa-plus"></i>&nbsp; 新增产品</button>                             </router-link>                            </span>                        </div>                        <div class="ibox-content">                            <table class="table table-bordered dataTable">                                <thead>                                <tr>                                    <th>产品名称</th>                                    <th>产品代码</th>                                    <order-thead :column="'created_at'" :url="url" :tTitle="'添加时间'"></order-thead>                                    <th>操作</th>                                </tr>                                </thead>                                <tbody>                                <tr v-for="product in products">                                    <td> {{ product.name }}</td>                                    <td> {{ product.code }}</td>                                    <td> {{ product.created_at }}</td>                                    <td class="vuetable-actions center aligned">                                        <button class="btn btn-info btn-sm" data-toggle="modal"  data-target="#myModal" @click="show(product)">查看品种概述</button>                                        <router-link :to="{ name: '/products/edit', params: { id: product.id }}">                                            <button title="编辑产品" class="btn btn-info btn-sm">编辑产品</button>                                        </router-link>                                        <button type="button" class="btn btn-danger btn-sm" @click="delpro(product.id)">删除</button>                                    </td>                                </tr>                                </tbody>                            </table>                            <paginator :url="url" :onPageChanges="page"></paginator>                        </div>                    </div>                </div>            </div>        </div>        <div class="modal fade" id="myModal" tabindex="-1"  role="dialog" aria-labelledby="myModalLabel" >            <div class="modal-dialog" role="document">                <div class="modal-content">                    <div class="modal-header">                        <h3 class="modal-title text-center">品种概述</h3>                    </div>                    <div class="modal-body">                        <div class="form-group" id="proimg">                            <span class="html ql-editor" v-html="product.content"></span>                        </div>                    </div>                    <div class="modal-footer">                        <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">关闭                        </button>                    </div>                </div>            </div>        </div>    </div></template><style>#proimg img{        width: 540px;     }</style><script>  import Paginator from '../Common/Paginator.vue';  import OrderThead from '../Common/OrderThead.vue';  import Search from '../Common/Search.vue';  export default{    created(){},    data(){      return {        products: {},        url  : '/api/products',        product : {            id: '',            name: '',            code: '',            content: '',        }      }    },    components: {      Paginator,Search,OrderThead    },    methods   : {      page(data){        this.products = data;      },      onSearch (url) {        this.url = url;        vueApp.$emit('page.change', url)      },      quit(){        vueApp.$emit('page.refresh',this.url)      },      show(product){        this.product = product;      },      delpro(id){        let self = this;        var opts = {          title: '确定删除?',          text: '你将无法恢复所删数据!',          type: 'warning',          showCancelButton: true,          confirmButtonColor: "#DD6B55",          confirmButtonText: '是,确定删除!',          cancelButtonText: '不,取消删除',          closeOnConfirm: false,          closeOnCancel: false        };        sweetAlert(opts,            function (isConfirm) {              if (isConfirm) {                axios.delete('/api/products/delProduct/'+id).then(response=>{                  sweetAlert(                      '已经删除!',                      '数据已经被删除!',                      'success'                  );                  vueApp.$emit('page.refresh',self.url)            }).catch(error =>{            toastrNotification('error',error);            });              } else {                sweetAlert("取消", "数据没有删除!", "error");              }            });    },    mounted(){    }   }  }</script>